Goal: Get a sense of what I want this experiment to actually be.

I. I need to perform "regimes" of analyses for the three phases (Q, G1, G2/M):
    1. Regime #1: Fine-resolution analyses of cis contacts on XII
    2. Regime #2: Coarse-resolution analyses of the following:
        a. XII cis contacts: fithic -x "intraOnly"
        b. XII cis and trans contacts: fithic -x "all"
        c. whole genome: fithic -x "interOnly"

II. What needs to happen?
    0. Using a test file, build out and test all of the steps of the workflow.
        a. Currently, things run up to the successful completion of the call to `fithic`, but more things need to happen after that. What are they?
            i. visualize-UCSC.sh (Post-processing. Visualizes Fit-Hi-C interactions on the UCSC Genome Browser)
            ii. createFitHiCHTMLout.sh (Post-processing. Generates HTML page describing Fit-Hi-C run)
            iii. merge-filter.sh (Post-processing. Filters Fit-Hi-C interactions and merges nearby ones using FANCY GRAAAAAAAAAAAPH magic)
        b. Priorities
            i. Running merge-filter.sh is a high priority  #NOTE Does not work; needs debugging
            ii. Running visualize-UCSC.sh is a lower priority  #NOTE Not necessary; wrote custom processing code
            ii. Running createFitHiCHTMLout.sh is not a priority, so cut it if matplotlib bugs are encountered  #NOTE Not important or necessary
        c. #TODO #INPROGRESS Flesh out remainder of workflow using a test file, test conditions, etc.  #DONE genome-trans|interOnly  #DONE cis|intraOnly

    1. Regime I.1 requires that 11_cooler_XII_KR-filt-0.4/ contains files at the following resolutions: #DONE
        - 50
        - 100
        - 150
        - 200
        - 300
        - 400
        - 500

    2. Regime I.2.a requires that 11_cooler_XII_KR-filt-0.4/ contains files at the following resolutions: #DONE
        - 800
        - 1600
        - 3200
        - 5000
        - 6400
        - 12800
        a. These need to be converted from .hic files in 10_fanc_XII_KR-filt-0.4/  #DONE
        b. Before running the workflow, check that the bedpe file can be used with IGV  #DONE
        b. Run the FitHiC2 workflow on the hic-to-cool files (outdirectory: 13_FitHiC2_XII_KR-filt-0.4/)

    3. Regarding Regime #2b: I think the easiest thing to do here will be the following:
        a. Complete the tasks for I.2.a above
        b. Complete the tasks for I.2.a again except for 11_cooler_XII_KR-filt-0.2/ (13_FitHiC2_XII_KR-filt-0.2/)
            i. There seem to be G1 rDNA-associated trans contacts that are lost with 11_cooler_XII_KR-filt-0.4/ (13_FitHiC2_XII_KR-filt-0.4/)
        c. Copy the ia files from 13_FitHiC2_XII_KR-filt-0.4/ to a new experiment directory: 13_FitHiC2_XII-cis-trans_KR-filt-0.4/
        d. Copy the ia files from 13_FitHiC2_XII_KR-filt-0.2/ to a new experiment directory: 13_FitHiC2_XII-cis-trans_KR-filt-0.2/
        e. Filter the copied-over ia files to retain only XII-associated cis and trans interactions; give the filtered ia files new names
            i. 13_FitHiC2_XII-cis-trans_KR-filt-0.4/
            ii. 13_FitHiC2_XII-cis-trans_KR-filt-0.2/
        d. Using the filtered ia files, run the FitHiC2 workflow
            i. 13_FitHiC2_XII-cis-trans_KR-filt-0.4/
            ii. 13_FitHiC2_XII-cis-trans_KR-filt-0.2/

III. Related to II.0.a
    A. visualize-UCSC.sh
        A bash script to convert Fit-Hi-C output into visualization input for UCSC's Genome Browser in 'interact' format.

        DESCRIPTION:
        bash visualize-UCSC.sh [inputFile] [outputFile] [QvalThresh]
                
                 [inputFile]                Input Fit-Hi-C file to visualize 
                 [outputFile]               Output file for UCSC to visualize 
                 [QvalThresh]               Q-value threshold to filter Fit-Hi-C interactions at 


    B. createFitHiCHTMLout
        A bash script to generate an HTML report of the Fit-Hi-C run. Note, works best if Fit-Hi-C was run with --visual option.

        bash createFitHiCHTMLout.sh [Library Name] [No. of passes] [Fit-Hi-C output folder]
                
        [Library Name]            The library name (-l option) used during Fit-Hi-Câ€™s run
        [No. of passes]            The number of spline passes conducted by the Fit-Hi-C run
        [Fit-Hi-C output folder]    Path to the output folder for that Fit-Hi-C run (-o option)


    C. merge-filter.sh
        A bash script to merge nearby significant interactions and filter Fit-Hi-C output

        bash merge-filter.sh [inputFile] [resolution] [outputDirectory] [fdr]

        [inputFile]                Input file of Fit-Hi-C interactions
        [resolution]               Resolution used
        [outputFile]               Output file to dump output to
        [fdr]                      False Discovery rate to use when subsetting interactions
        [utilities]                Full path to utilities folder (folder where CombineNearbyInteraction.py is)


IV. GENOVA work


